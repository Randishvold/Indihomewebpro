/* src/app.css - Optimized for mobile performance */
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    @apply text-gray-800 bg-white leading-relaxed;
    overflow-x: hidden;
  }

  /* Load custom fonts when available */
  .fonts-loaded body {
    font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  .fonts-loaded h1, 
  .fonts-loaded h2, 
  .fonts-loaded h3, 
  .fonts-loaded h4, 
  .fonts-loaded h5, 
  .fonts-loaded h6 {
    font-family: Poppins, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-secondary mb-4;
  }

  .display-1, .display-2, .display-3, .display-4, .display-5, .display-6 {
    @apply font-bold;
  }

  p {
    @apply mb-4;
  }

  a {
    @apply text-primary no-underline transition-colors duration-200;
  }

  main {
    @apply pt-20;
  }

  main > section:first-child {
    @apply pt-0;
  }
}

@layer components {
  /* Critical navbar styles */
  .navbar {
    @apply py-4 transition-all duration-200 ease-in-out;
    background: rgba(248, 249, 250, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  }

  .navbar-scrolled {
    @apply bg-white shadow-md py-3;
    backdrop-filter: blur(10px);
  }

  .navbar-brand {
    @apply text-primary text-xl font-bold no-underline hover:text-primary-dark transition-colors;
  }

  .navbar-collapse {
    @apply absolute top-full left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4;
  }

  .nav-link {
    @apply text-gray-700 font-medium px-4 py-2 rounded-md transition-all duration-200 hover:text-primary hover:bg-primary-light;
  }

  .nav-link.active {
    @apply text-white bg-primary font-semibold;
  }

  /* Hero section - optimized for LCP */
  .hero-section {
    @apply min-h-screen flex items-center py-24;
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 50%, #991b1b 100%);
    color: white;
    /* Optimize for LCP */
    contain: layout style paint;
  }

  .hero-section .display-4 {
    @apply text-white font-bold;
    /* Optimize text rendering */
    text-rendering: optimizeSpeed;
    font-synthesis: none;
  }

  .hero-section .lead {
    @apply text-xl text-gray-100 max-w-lg;
  }

  /* Feature icons - optimized */
  .feature-icon {
    @apply w-20 h-20 inline-flex items-center justify-center rounded-full mb-4 bg-primary-light text-primary;
  }

  /* Cards - optimized */
  .card {
    @apply bg-white border border-gray-200 rounded-xl shadow-lg transition-all duration-200 h-full overflow-hidden;
    contain: layout style;
  }

  .card:hover {
    @apply shadow-xl;
    transform: translateY(-2px);
  }

  .card-body {
    @apply p-6;
  }

  /* Buttons - optimized */
  .btn {
    @apply font-semibold py-3 px-6 rounded-lg transition-all duration-200 border border-transparent tracking-wide inline-flex items-center justify-center;
  }

  .btn:hover {
    @apply shadow-lg;
  }

  .btn-primary {
    @apply bg-primary text-white border-primary hover:bg-primary-dark hover:border-primary-dark;
  }

  .btn-outline-primary {
    @apply text-primary-dark border-2 border-primary bg-transparent hover:bg-primary hover:text-white;
  }

  .btn-outline-secondary {
    @apply text-white border-2 border-gray-300 bg-transparent hover:bg-white hover:text-gray-800;
  }

  .btn-light {
    @apply bg-white text-gray-800 border border-gray-300 hover:bg-gray-50 hover:border-gray-400;
  }

  .btn-lg {
    @apply py-4 px-8 text-lg;
  }

  /* Forms - minimal styles */
  .form-control, .form-select {
    @apply w-full px-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }

  /* Text utilities */
  .text-muted {
    @apply text-gray-600;
  }

  .fw-bold {
    @apply font-bold;
  }

  .lead {
    @apply text-lg text-gray-600 mb-6;
  }

  /* Background sections */
  .bg-light {
    @apply bg-gray-50;
  }

  /* Container */
  .container {
    @apply max-w-7xl mx-auto px-4;
  }

  /* Spacing optimization */
  .py-12 {
    @apply py-8;
  }

  /* Animation classes - optimized for performance */
  .fade-in {
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    will-change: opacity, transform;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

@layer utilities {
  /* Mobile optimizations */
  @media (max-width: 1023px) {
    .navbar-collapse {
      @apply bg-white p-6 mt-4 rounded-lg shadow-lg border border-gray-200;
    }
    
    .hero-section {
      @apply py-16;
      min-height: 100svh; /* Use small viewport units for mobile */
    }
    
    .py-12 {
      @apply py-6;
    }
  }

  /* Performance utilities */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: transform;
  }

  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    .fade-in {
      transition: none;
    }
    
    .btn, .card, .nav-link {
      transition: none;
    }
    
    html {
      scroll-behavior: auto;
    }
  }

  /* Critical content prioritization */
  .critical-content {
    contain: layout style paint;
  }
}